як рахувати пріорітет виконання?
кор система запускається, бере дозволені запити -> foreach
* перевірити чи проходить усі правила
	* якщо пройшов
		* вибір типу доставки на основі пріорітетів
		* 
	* якщо не пройшов

моменти:
* отримання запитів
	* якщо запит вже виконав налаштовану кількість спроб, то треба його помітити як необроблений, з помилкою
* перевірка правил
	* дістати правила
	* перевірити кожне правило
	* якщо щось не пройшло, то стоп
* вибір пріорітетного типу доставки 
	* дістати пріорітети
	* якщо це перша спроба (Request.LastExecutionPriority), то вибрати перший пріорітет 
	* якщо це НЕ! перша спроба (Request.LastExecutionPriority), то вибрати наступний пріорітет 
	* якщо останній пріорітет вже був оброблений, то треба пускати на нове коло спроб (TryCount)
* надсилання у чергу